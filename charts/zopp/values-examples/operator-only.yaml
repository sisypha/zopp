# Example: Operator-only deployment (external server)
# Usage: helm install zopp ./charts/zopp -f values-examples/operator-only.yaml

server:
  enabled: false

operator:
  enabled: true

  # REQUIRED: External server address
  # TLS is auto-detected from https:// URL
  # For self-signed certs, provide CA certificate via tls.existingSecret
  server:
    address: "https://zopp.example.com:50051"
    tls:
      existingSecret: "zopp-server-ca"  # Optional: only needed for self-signed certs

  # REQUIRED: Operator credentials
  credentials:
    existingSecret: "zopp-operator-creds"

  # Watch all namespaces
  watchNamespace: ""

rbac:
  clusterWide: true  # Required for watching all namespaces

# Create secrets first:
# kubectl create secret generic zopp-server-ca --from-file=ca.crt=ca.crt
# kubectl create secret generic zopp-operator-creds --from-file=config.json=$HOME/.zopp/config.json
